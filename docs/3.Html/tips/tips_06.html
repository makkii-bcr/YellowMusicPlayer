<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>YellowMusicPlayer</title>
  <link rel="stylesheet" type="text/css" href="../s.css">
 </head>
 <body>
  <h1>
   <img src="../res/icon.png" align="top">
   &nbsp;Tips・その他&nbsp;
   <img src="../res/icon.png" align="top">
  </h1>
  <hr>
  <h2>バグ</h2>
  <ul>
   <li><b>YellowMusicPlayerの起動が遅い。BGMがなるまで時間がかかる。</b></li>
   <ul>
    <li>Windows Vista以降 でこの現象が起こるPCがあります。（すぐ起動するwin7のPCもある。XP以前はすぐ起動する）<br>
        <a href="tips_02.html">YellowMusicPlayerの設定</a>でDirectMusicをOFFにすると起動が速くなります。</li>
    <li>ただし、DirectMusicをOFFにすると、Midiの反応が鈍くなる・他のPCで同じ音源でなくなる・Midiの音がきれいではなくなる<br>
        といったことが起こるので、そこも考慮して下さい。</li>
   </ul>
   <br>
   <li><b>再生の命令を出しても、再生されない場合があります。</b></li>
   <ul>
    <li>YellowMusicPlayerでは反応速度を優先しているため、デフォルトではファイルの読み込み頻度が1秒間に60回と高いです。<br>
        <a href="tips_02.html">YellowMusicPlayerの設定</a>でファイルの読み込み頻度を少なくすると、バグが少なくなる可能性があります。</li>
    <li>TonyuとMusicPlayerが、１つのファイルを読み書きしてBGMの再生命令を認識するという方法をとっています。<br>
        その仕様上同時アクセスが発生する可能性があるため、このバグを完全に消すことはできません。</li>
    <li>MidiやOggの再生情報を取得する機能があるので、この機能を使い現在再生されているBGMを確認することができるので、<br>
        この機能を組み合わせるとバグを防ぐことができます。<br>
   </ul>
   <br>
   <li><b>マスターピッチ機能を使うと、Midiファイルによっては音が変になる場合があります。</b></li>
   <ul>
    <li>ピッチベンドが送信されているMidiファイルで、うまく再生されないらしいです。</li>
    <li>バグが起きないMidiファイルで、マスターピッチ機能を使いたい場合のみONにするといいです。</li>
    <li>使用しているライブラリの仕様(Midiの仕様かも)なので悪しからず…</li>
   </ul>
   <br>
   <li><b>Midiでフェードイン・フェードアウトを行ったり、Midi再生中に音量・ピッチの値が変化する頻度が多かったりすると、<br>
       Midiファイルによっては再生速度が遅くなる場合があります。</b></li>
   <ul>
    <li>毎秒60回程の頻度で音量・ピッチの値が変化する場合に、再生速度が遅くなるMidiファイルがありました。</li>
    <li>DirectMusicを使用している場合で起きる現象です。</li>
    <li>遅くなる場合は、変化の頻度を少なくしたり、フェードイン・フェードアウトを無効にしたりするほうがいいです。<br>
        または、DirectMusicをOFFにするとこのバグがおきません。</li>
   </ul>
   <br>
   <li><b>Midi再生開始時に、最初の音だけピアノ音になることがあります。</b></li>
   <ul>
    <li>「細かい仕様」にもあるようにバグ防止策を講じているので、バグの頻度は少なくなっています。</li>
    <li>しかし、稀にこのバグが発生してしまいます。気になるときは、冒頭の空白スキップをOFFにしてください。</li>
    <li>DirectMusicがOFFで、Midiデバイスに「TiMidity++」を設定している場合、Midiの音色が全てピアノになることがあります。</li>
   </ul>
   <br>
  </ul>
   <ul>
   <li><b>ＰＣの処理がかなり重くなった時に、Oggの曲が８秒ごとに繰り返される場合があります。</b></li>
   <ul>
    <li>この現象はよほどＰＣが重くならない限り、めったに起きない現象なので、気にする必要はないでしょう。<br>
        ただし、Oggのテンポを速くしている場合は、音が繰り返してしまう可能性が少し高まるので注意が必要です。<br>
        この現象が起きても、処理に余裕ができれば本来の再生位置まで戻るように作っているので、再生位置がずれることはほぼ無いと思います。</li>
    <li>YellowMusicPlayerではOggを再生するために、前もって８秒先の音を作っておきます。<br>
        再生中は、８秒先の音を常に作っています。<br>
        しかし、ＰＣの処理がかなり重くなった時は処理が止まってしまい、音を作るのが間に合わなくなった時にこの現象が発生します。</li>
   </ul>
  </ul>
  <h2>細かい仕様</h2>
  細かい仕様なので、あまりに気にする必要はないです！
  <ul>
   <li><b>Midi再生中・一時停止中に他のMidiに切り換えて再生する場合、30ミリ秒間停止してから再生開始します。</b></li>
   <ul>
    <li>即座にMidiを切り換えると、最初の音がピアノになってしまうことがあるため、そのバグ防止策です。</li>
    <li>停止中は30ミリ秒間待たずに、即座に再生開始します。</li>
   </ul>
   <br>
   <li><b>現在の演奏時間の取得・Midiファイルの情報取得は、setGetMode()メソッドで指定した頻度で更新される以外に、<br>
       再生・停止・一時停止・一時停止からの再開の命令が出された時でも更新されます。</b></li>
   <ul>
    <li>一時停止・一時停止からの再開では、30ミリ秒遅れて更新されます。</li>
    <li>再生・停止では、即座に更新されます。</li>
   </ul>
   <br>
   <li><b>開発環境版では、プロジェクトを切り換えると、エフェクト情報・再生オプションの情報がリセットされます。</b></li>
   <ul>
    <li>MusicPlayerでは、Midiファイルのあるパスを見て、default.tonyuprjのパスが変わったときにリセットという方法をとっています。</li>
   </ul>
   <br>
   </ul>
  </ul>
  <a href="../tips.html">戻る</a>
  <hr>
 </body>
</html>